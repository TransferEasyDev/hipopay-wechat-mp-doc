## HipoPay公众号支付对接详情

*  [接口对接时序图](https://www.processon.com/view/link/5d39751be4b0e6d9199c23f6)
*  [接口文档](https://s.transfereasy.com/tec-op/HipoPay%E5%BE%AE%E4%BF%A1%E5%A4%A7%E9%99%86%E9%92%B1%E5%8C%85%E5%85%AC%E4%BC%97%E5%8F%B7%E6%94%AF%E4%BB%98.pdf)

### 定义:

 * 公众号支付是用户在微信中打开商户的H5页面，商户在H5页面通过调用微信支付提供的JSAPI接口调起微信支付模块完成支付。

### 应用场景:

 * 用户在微信公众账号内进入商家公众号，打开某个主页面，完成支付  
 * 用户的好友在朋友圈、聊天窗口等分享商家页面连接，用户点击链接打开商家页面，完成支付 
 * 将商户页面转换成二维码，用户扫描二维码后在微信浏览器中打开页面后完成支付


### 测试账号: 
 * merchantNO： WC5a00328b3ac33 
 * 请求时请访问生产环境host https://api.wisecashier.com 
 * 或者您可以选择用您的生产环境账号来做测试
 * 公众号测试没有专用账号， 如果有其他客户正在使用可能需要您等一段时间 如果有其他客户需要使用可能会和您协调资源

### 支付页面: 
  * openid必须在后端拿。 
  * 这个容器不是iframe,是一个反向代理。 所以在前端是拿不到这个参数的, 在后端可得到。 
  * 原因是微信要求支付必须在hipopay的域名下面。 
  * 为了让商户能使用自己的页面， hipopay才做了这个事情。

### 注意事项: 
  * 我们服务器的ip是 121.42.226.66 供您做访问限制 
  * 此支付场景允许在前端唤起所以不需要请求加密 
  * 需要保证静态资源的域名和提供给我们的支付页面域名一致，否则会出现加载问题 
  * 如果需要后端调用支付接口需要自行解决跨域问题，所以建议在js端来调用
